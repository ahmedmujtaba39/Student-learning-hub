<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <link rel="stylesheet" href="styles1.css">
</head>
<nav class="navbar">
    
         <div class="usman">
        <h1 class="logo">Student Learning Hub</h1>
        <img class="nwis" src="nwislogo" alt="School logo">
    </div>
    <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="resources.html">Resources</a></li>
        <li><a href="clubs.html">Clubs</a></li>
        <li><a href="mentorship.html" class="active">Peer Help</a></li>
        <li><a href="competitions.html">Competitions</a></li>
        <li><a href="contact.html">Contact</a></li>
    </ul>
</nav>

<!-- HERO -->
<section class="hero mentorship-hero">
    <div class="hero-content">
       
</section>

<!-- MENTORS SECTION -->
<section class="mentors">
    <h2 class="section-title" style="text-align:center">Meet Our Mentors</h2>
    <div class="mentor-filters">
    <input type="text" id="mentorSearch" placeholder="Search mentors...">

    <select id="filterGrade">
        <option value="">Grade (All)</option>
        <option value="AS">AS</option>
        <option value="A2">A2</option>
    </select>

    <select id="filterSubject">
        <option value="">Subject (All)</option>
        <option value="Math">Math</option>
        <option value="Physics">Physics</option>
        <option value="Business">Business</option>
        <option value="Chemistry">Chemistry</option>
        <option value="Biology">Biology</option>
        <option value="Computer Science">Computer Science</option>
    </select>

    <select id="filterMajor">
        <option value="">Intended Major (All)</option>
        <option value="Engineering">Engineering</option>
        <option value="Medicine">Medicine</option>
        <option value="Finance">Finance</option>
        <option value="Computer Science">Computer Science</option>
        <option value="International Relations">International Relations</option>
    </select>
</div>

    

    <div class="mentor-grid">

        <!-- Mentor Card 1 -->
        <div class="mentor-card" data-name="Musa Hago"
        data-mentor-id="musa"
     data-grade="A2"
     data-subjects="Math Physics Computer science"
     data-major="International Relations"
     data-interests="Robotics Coding chess">
            <img src="removedhago.png" class="mentor-photo">
            <h3>Musa Hago</h3>
            <p><strong>Grade:</strong> A2</p>
            <p><strong>Subjects:</strong> Math, Physics, Computer Science</p>
            <p><strong>SAT:</strong> 1480</p>
            <p><strong>Intended Major:</strong> Computer Engineering</p>
            <p><strong>Interests:</strong> Robotics, Coding, Chess</p>
            <button class="book-btn">Book a Session</button>
        </div>

        <!-- Mentor Card 2 -->
        <div class="mentor-card"data-name="Ahmed Usman butt"
     data-grade="A2"
     data-subjects="Math Physics Computer science"
     data-major="Finance"
     data-interests="Robotics Coding chess">
            <img src="download.png" class="mentor-photo">
            <h3>Ahmed Usman butt</h3>
            <p><strong>Grade:</strong> AS</p>
            <p><strong>Subjects:</strong> Biology, Chemistry, Math</p>
            <p><strong>SAT:</strong> 1510</p>
            <p><strong>Intended Major:</strong> Medicine</p>
            <p><strong>Interests:</strong> Research, Reading, Tutoring</p>
            <a href="https://calendly.com/fatima-mentor" class="book-btn">Book a Session</a>
        </div>

        <!-- Mentor Card 3 -->
        <div class="mentor-card">
            <img src="mentor3.jpg" class="mentor-photo">
            <h3>Ahmed Khan</h3>
            <p><strong>Grade:</strong> A2</p>
            <p><strong>Subjects:</strong> Business, Economics, Math</p>
             <p><strong>SAT:</strong> 1510</p>
            <p><strong>Intended Major:</strong> Finance</p>
            <p><strong>Interests:</strong> Startups, Investing, Debate</p>
        
          
            <a href="https://calendly.com/ahmed-mentor" class="book-btn">Book a Session</a>
        </div>
        <div class="mentor-card">
            <img src="mentor3.jpg" class="mentor-photo">
            <h3>Ahmed Khan</h3>
            <p><strong>Grade:</strong> A2</p>
            <p><strong>Subjects:</strong> Business, Economics, Math</p>
             <p><strong>SAT:</strong> 1510</p>
            <p><strong>Intended Major:</strong> Finance</p>
            <p><strong>Interests:</strong> Startups, Investing, Debate</p>
        
          
            <a href="https://calendly.com/ahmed-mentor" class="book-btn">Book a Session</a>
        </div>
        <div class="mentor-card"data-name="Musa Hago"
     data-grade="A2"
     data-subjects="Math Physics Computer science"
     data-major="Engineering"
     data-interests="Robotics Coding chess">
            <img src="mentor3.jpg" class="mentor-photo">
            <h3>Ahmed Khan</h3>
            <p><strong>Grade:</strong> A2</p>
            <p><strong>Subjects:</strong> Business, Economics, Math</p>
             <p><strong>SAT:</strong> 1510</p>
            <p><strong>Intended Major:</strong> Finance</p>
            <p><strong>Interests:</strong> Startups, Investing, Debate</p>
        
          
            <a href="https://calendly.com/ahmed-mentor" class="book-btn">Book a Session</a>
        </div>
        <div class="mentor-card">
            <img src="mentor3.jpg" class="mentor-photo">
            <h3>Ahmed Khan</h3>
            <p><strong>Grade:</strong> A2</p>
            <p><strong>Subjects:</strong> Business, Economics, Math</p>
             <p><strong>SAT:</strong> 1510</p>
            <p><strong>Intended Major:</strong> Finance</p>
            <p><strong>Interests:</strong> Startups, Investing, Debate</p>
        
          
            <a href="https://calendly.com/ahmed-mentor" class="book-btn">Book a Session</a>
        </div>
        <div class="mentor-card">
            <img src="mentor3.jpg" class="mentor-photo">
            <h3>Ahmed Khan</h3>
            <p><strong>Grade:</strong> A2</p>
            <p><strong>Subjects:</strong> Business, Economics, Math</p>
             <p><strong>SAT:</strong> 1510</p>
            <p><strong>Intended Major:</strong> Finance</p>
            <p><strong>Interests:</strong> Startups, Investing, Debate</p>
        
          
            <a href="https://calendly.com/ahmed-mentor" class="book-btn">Book a Session</a>
        </div>
        

    </div>
    <!-- BOOKING MODAL -->
<!-- ========================= -->
<!--   BOOKING MODAL POPUP     -->
<!-- ========================= -->

<div class="booking-overlay" id="bookingOverlay">
  <div class="booking-modal">
    
    <h2 id="bookingMentorName">Book a Session</h2>

    <label>Your Name</label>
    <input type="text" id="studentName" placeholder="Enter your full name">

    <label>Your Email</label>
    <input type="email" id="studentEmail" placeholder="Enter your email">

    <label>Select a Time Slot</label>
    <div id="slotContainer" class="slot-container"></div>

    <p id="bookingMessage" class="booking-message"></p>

    <div class="booking-actions">
      <button id="confirmBooking" class="confirm-btn">Confirm Booking</button>
      <button id="closeBooking" class="cancel-btn">Cancel</button>
    </div>

  </div>
</div>

</div>

<script>
const search = document.getElementById("mentorSearch");
const grade = document.getElementById("filterGrade");
const subject = document.getElementById("filterSubject");
const major = document.getElementById("filterMajor");
const mentorCards = document.querySelectorAll(".mentor-card");

function applyFilters() {
    const q = search.value.toLowerCase();
    const g = grade.value;
    const s = subject.value.toLowerCase();
    const m = major.value.toLowerCase();

    mentorCards.forEach(card => {
        const name = card.dataset.name.toLowerCase();
        const cardGrade = card.dataset.grade;
        const subjects = card.dataset.subjects.toLowerCase();
        const majorField = card.dataset.major.toLowerCase();
        const interests = card.dataset.interests.toLowerCase();

        const matchesSearch =
            name.includes(q) ||
            subjects.includes(q) ||
            majorField.includes(q) ||
            interests.includes(q);

        const matchesGrade = !g || cardGrade === g;
        const matchesSubject = !s || subjects.includes(s);
        const matchesMajor = !m || majorField.includes(m);

        if (matchesSearch && matchesGrade && matchesSubject && matchesMajor) {
            card.style.display = "";
        } else {
            card.style.display = "none";
        }
    });
}

search.addEventListener("input", applyFilters);
grade.addEventListener("change", applyFilters);
subject.addEventListener("change", applyFilters);
major.addEventListener("change", applyFilters);
</script>
<script type="module">

/* ----------------------------------------
   1. IMPORT FIREBASE
---------------------------------------- */
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { 
  getFirestore, doc, getDoc, updateDoc, addDoc, collection, arrayRemove 
} from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

/* ----------------------------------------
   2. FIREBASE CONFIG
   ⚠️ REPLACE WITH YOUR OWN CONFIG!!!
---------------------------------------- */
const firebaseConfig = {
  apiKey: "AIzaSyCfY56_OCn_mxtHXDNIZC5bnKZKCSj-r7o",
  authDomain: "student-learning-hub-1ca09.firebaseapp.com",
  projectId: "student-learning-hub-1ca09",
  storageBucket: "student-learning-hub-1ca09.appspot.com",

  messagingSenderId: "20340802436",
  appId: "1:20340802436:web:d604f4c9f3fb119f56d3d1",
  measurementId: "G-N4KT84Q6MR"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

/* ----------------------------------------
   3. DOM ELEMENTS
---------------------------------------- */
const overlay = document.getElementById("bookingOverlay");
const bookingMentorName = document.getElementById("bookingMentorName");
const slotContainer = document.getElementById("slotContainer");
const studentNameInput = document.getElementById("studentName");
const studentEmailInput = document.getElementById("studentEmail");
const messageEl = document.getElementById("bookingMessage");
const confirmBtn = document.getElementById("confirmBooking");
const closeBtn = document.getElementById("closeBooking");

let currentMentorId = null;
let currentMentorName = null;
let selectedSlot = null;

/* ----------------------------------------
   4. OPEN MODAL WHEN "BOOK" BUTTON CLICKED
---------------------------------------- */
document.querySelectorAll(".mentor-card .book-btn").forEach(btn => {
  btn.addEventListener("click", async () => {

    const card = btn.closest(".mentor-card");
    currentMentorId = card.dataset.mentorId;

    const ref = doc(db, "mentors", currentMentorId);
    const snap = await getDoc(ref);

    if (!snap.exists()) {
      alert("Mentor not found in database.");
      return;
    }

    const data = snap.data();
    currentMentorName = data.name;
    
    bookingMentorName.textContent = "Book a session with " + currentMentorName;

    const slots = data.slots || [];
    slotContainer.innerHTML = "";

    if (slots.length === 0) {
      slotContainer.innerHTML = "<p>No available time slots.</p>";
    } else {
      slots.forEach(slot => {
        const btn = document.createElement("button");
        btn.className = "slot-btn";
        btn.textContent = new Date(slot).toLocaleString();
        btn.addEventListener("click", () => {
          selectedSlot = slot;
          document.querySelectorAll(".slot-btn").forEach(b => b.classList.remove("selected"));
          btn.classList.add("selected");
        });
        slotContainer.appendChild(btn);
      });
    }

    messageEl.textContent = "";
    overlay.style.display = "flex";
  });
});

/* ----------------------------------------
   5. CLOSE MODAL
---------------------------------------- */
closeBtn.addEventListener("click", () => {
  overlay.style.display = "none";
});

/* ----------------------------------------
   6. CONFIRM BOOKING
---------------------------------------- */
confirmBtn.addEventListener("click", async () => {
  const studentName = studentNameInput.value.trim();
  const studentEmail = studentEmailInput.value.trim();

  if (!studentName || !studentEmail || !selectedSlot) {
    messageEl.style.color = "red";
    messageEl.textContent = "Please fill all fields and pick a slot.";
    return;
  }

  try {
    // Save booking
    await addDoc(collection(db, "bookings"), {
      mentorId: currentMentorId,
      mentorName: currentMentorName,
      studentName,
      studentEmail,
      slot: selectedSlot,
      createdAt: new Date(),
      status: "confirmed"
    });

    // Remove slot
    await updateDoc(doc(db, "mentors", currentMentorId), {
      slots: arrayRemove(selectedSlot)
    });

    messageEl.style.color = "green";
    messageEl.textContent = "Booking confirmed!";

    slotContainer.innerHTML = "<p>Slot booked successfully!</p>";
    selectedSlot = null;

  } catch (err) {
    console.error(err);
    messageEl.style.color = "red";
    messageEl.textContent = "There was an error booking. Try again.";
  }
});

</script>




</section>



<!-- FOOTER -->
<footer class="footer">
    <p style="text-align:center" class="'textfooter">© 2025 Student Learning Hub — Created by Students, For Students</p>
</footer>



